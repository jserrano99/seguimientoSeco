<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.6.0.final using JasperReports Library version 6.6.0  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="esfuerzoMedioNPL2" pageWidth="595" pageHeight="842" columnWidth="591" leftMargin="2" rightMargin="2" topMargin="0" bottomMargin="0" uuid="34454ece-9905-4223-9db5-da6e0b4a74ff">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="SeguimientoSeco"/>
	<property name="com.jaspersoft.studio.unit." value="mm"/>
	<parameter name="FC_INICIO" class="java.lang.String">
		<parameterDescription><![CDATA[FECHA INICIO]]></parameterDescription>
	</parameter>
	<parameter name="FC_FIN" class="java.lang.String">
		<parameterDescription><![CDATA[FECHA DE FIN]]></parameterDescription>
	</parameter>
	<parameter name="aplicacion" class="java.lang.Integer">
		<parameterDescription><![CDATA[Aplicacion]]></parameterDescription>
	</parameter>
	<queryString language="SQL">
		<![CDATA[SELECT aplicacion.descripcion  as aplicacionDs, 
objetos_encargo.codigo, objetos_encargo.descripcion as objetoEncargoDs, 
 count(encargo.numero) , sum(seguimientoseco.encargo.horas_realizadas )
 FROM ENCARGO 
INNER JOIN OBJETOS_ENCARGO ON OBJETOS_ENCARGO.ID = encargo.objeto_encargo_id
right join aplicacion on aplicacion.id = encargo.aplicacion_id
WHERE objetos_encargo.tipo_objeto_id = 1 
AND encargo.fc_entrega between str_to_date($P{FC_INICIO},'%d/%m/%Y')  and str_to_date($P{FC_FIN},'%d/%m/%Y')  
group by  aplicacion.descripcion, objetos_encargo.codigo, objetos_encargo.descripcion]]>
	</queryString>
	<field name="aplicacionDs" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="aplicacionDs"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="aplicacion"/>
	</field>
	<field name="codigo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="codigo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="objetos_encargo"/>
	</field>
	<field name="objetoEncargoDs" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="objetoEncargoDs"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="objetos_encargo"/>
	</field>
	<field name="count(encargo.numero)" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.label" value="count(encargo.numero)"/>
	</field>
	<field name="sum(seguimientoseco.encargo.horas_realizadas )" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.label" value="sum(seguimientoseco.encargo.horas_realizadas )"/>
	</field>
	<variable name="esfuerzoMedio" class="java.lang.Double">
		<variableExpression><![CDATA[$F{sum(seguimientoseco.encargo.horas_realizadas )}/$F{count(encargo.numero)}]]></variableExpression>
	</variable>
	<variable name="totalEncargos" class="java.lang.Double" resetType="Group" resetGroup="Aplicacion" calculation="Sum">
		<variableExpression><![CDATA[$F{count(encargo.numero)}]]></variableExpression>
	</variable>
	<variable name="totalHoras" class="java.lang.Double" resetType="Group" resetGroup="Aplicacion" calculation="Sum">
		<variableExpression><![CDATA[$F{sum(seguimientoseco.encargo.horas_realizadas )}]]></variableExpression>
	</variable>
	<variable name="totalEsfuerzoMedio" class="java.lang.Double" resetType="Group" resetGroup="Aplicacion">
		<variableExpression><![CDATA[$V{totalHoras}/$V{totalEncargos}]]></variableExpression>
	</variable>
	<group name="Aplicacion" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[$F{aplicacionDs}]]></groupExpression>
		<groupHeader>
			<band height="100">
				<staticText>
					<reportElement x="5" y="70" width="275" height="30" uuid="02ad7b83-6d28-492e-a8d5-243e49156d3f">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="0f7bdc08-d04b-4736-ad80-73f6a5e21b5a"/>
					</reportElement>
					<box>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Objeto Encargo]]></text>
				</staticText>
				<staticText>
					<reportElement x="371" y="70" width="60" height="30" uuid="e315c47b-8738-4fcf-9c27-ffdf111d8314">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="62c3b619-07e9-4178-99db-7749dc6b2325"/>
					</reportElement>
					<box>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Esfuerzo (horas)]]></text>
				</staticText>
				<staticText>
					<reportElement x="440" y="70" width="60" height="30" uuid="7f43943a-5914-4475-9236-59ae22c7d78e">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="62c3b619-07e9-4178-99db-7749dc6b2325"/>
					</reportElement>
					<box>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Esfuerzo Medio]]></text>
				</staticText>
				<staticText>
					<reportElement x="290" y="70" width="70" height="30" uuid="c9757c9c-4ac5-4e1f-87a0-ba0bfad7cca3">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="5e187eec-848e-4cdd-a5e6-ba6539e190c9"/>
					</reportElement>
					<box>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[NÂº Encargos]]></text>
				</staticText>
				<textField>
					<reportElement x="10" y="20" width="470" height="50" uuid="9136a728-5337-4b4e-b560-aadd0ec665ca"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="16" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{aplicacionDs} ]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="30" y="-8" width="470" height="30" forecolor="#1605FC" uuid="e16d8a17-befc-4821-81bb-6aab43b16a92"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="16" isBold="true"/>
					</textElement>
					<text><![CDATA[]]></text>
				</staticText>
				<staticText>
					<reportElement x="92" y="5" width="322" height="30" uuid="79ade5e5-86cf-492e-9bfe-158928d53b31"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="16" isBold="true"/>
					</textElement>
					<text><![CDATA[ESFUERZO MEDIO APLICACION]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="33">
				<textField pattern="#,##0.00">
					<reportElement x="371" y="0" width="60" height="29" uuid="ef35ac46-df3a-40bb-8093-5290b315891f"/>
					<box>
						<topPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$V{totalHoras}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="-4" y="0" width="284" height="26" uuid="0edbda60-420a-4e36-bc7e-f3c55ebf9273">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="0f7bdc08-d04b-4736-ad80-73f6a5e21b5a"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Total Encargo]]></text>
				</staticText>
				<textField pattern="#,##0.00">
					<reportElement x="440" y="0" width="60" height="30" uuid="fadd9f37-ab85-4b3f-87a4-fb7fc99a98b1"/>
					<box>
						<topPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$V{totalEsfuerzoMedio}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0" isBlankWhenNull="true">
					<reportElement x="290" y="0" width="70" height="29" uuid="74d9787c-9d31-4d86-bda5-604d948d5c1c"/>
					<box>
						<topPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$V{totalEncargos}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="18" splitType="Stretch">
			<textField pattern="#,##0" isBlankWhenNull="true">
				<reportElement x="290" y="0" width="70" height="16" uuid="3ee0579e-2e48-49eb-a017-b0a873bcd1b4">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="5e187eec-848e-4cdd-a5e6-ba6539e190c9"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{count(encargo.numero)}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="371" y="0" width="60" height="16" uuid="f0c05858-8ddf-4e07-b383-203da2f20002">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="62c3b619-07e9-4178-99db-7749dc6b2325"/>
				</reportElement>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{sum(seguimientoseco.encargo.horas_realizadas )}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="440" y="0" width="60" height="16" uuid="224d940e-7000-4696-b936-bdabe1ce3649"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$V{esfuerzoMedio}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="3" y="0" width="56" height="16" uuid="75ebd09e-a575-45c7-bc95-9e6d7b4ac5dd">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="941b473b-da18-4544-9936-a53282ce128e"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{codigo}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="60" y="0" width="220" height="16" uuid="0d678108-b780-4a2f-a863-17a039e811ff"/>
				<textFieldExpression><![CDATA[$F{objetoEncargoDs}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
